{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","App.module.css","services/api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","axios","defaults","baseURL","params","key","orientation","image_type","per_page","imagesApi","searchQuery","currentPage","get","q","page","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","src","largeImage","tags","alt","data-url","ImageGalleryItem__image","defaultProps","ImageGallery","list","onClick","map","id","webformatURL","largeImageURL","Button","App","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","event","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","images","isLoading","error","showModal","imageModal","onChangeQuery","fetchImages","option","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","openModal","nodeName","console","log","dataset","url","closeModal","prevProps","showLoadMoreBtn","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.911d8c8c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3Jj9u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '19892329-0452805ee0827a1229c764d7c';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n\tkey: API_KEY,\n\torientation: 'horizontal',\n\timage_type: 'photo',\n\tper_page: 12,\n};\nconst imagesApi = ({ searchQuery = '', currentPage = 1 }) => {\n\treturn axios.get('', { params: { q: searchQuery, page: currentPage } }).then((response) => response.data.hits);\n};\nexport { imagesApi };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\nclass Searchbar extends Component {\n\tstatic propTypes = {\n\t\tonSubmit: PropTypes.func.isRequired,\n\t};\n\tstate = { query: '' };\n\thandleChange = (e) => {\n\t\tthis.setState({ query: e.currentTarget.value });\n\t};\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.props.onSubmit(this.state.query);\n\t\tthis.setState({ query: '' });\n\t};\n\trender() {\n\t\treturn (\n\t\t\t<header className={styles.Searchbar}>\n\t\t\t\t<form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n\t\t\t\t\t<button type=\"submit\" className={styles.SearchForm__button}>\n\t\t\t\t\t\t<span className={styles.SearchForm__buttonLabel}></span>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName={styles.SearchForm__input}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tplaceholder=\"Search images and photos\"\n\t\t\t\t\t\tvalue={this.state.query}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</header>\n\t\t);\n\t}\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.css';\nconst ImageGalleryItem = ({ src, largeImage, tags }) => {\n\treturn (\n\t\t<>\n\t\t\t<img src={src} alt={tags} data-url={largeImage} className={styles.ImageGalleryItem__image} />\n\t\t</>\n\t);\n};\nImageGalleryItem.defaultProps = {\n\talt: 'Фото',\n};\n\nImageGalleryItem.propTypes = {\n\tsrc: PropTypes.string,\n\talt: PropTypes.string,\n\tdataUrl: PropTypes.string,\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ list, onClick }) => (\n\t<ul className={styles.ImageGallery} onClick={onClick}>\n\t\t{list.map(({ id, webformatURL, largeImageURL, tags }) => {\n\t\t\treturn (\n\t\t\t\t<li className={styles.ImageGalleryItem} key={id}>\n\t\t\t\t\t<ImageGalleryItem src={webformatURL} tags={tags} largeImage={largeImageURL} />\n\t\t\t\t</li>\n\t\t\t);\n\t\t})}\n\t</ul>\n);\nImageGallery.propTypes = {\n\tlist: PropTypes.arrayOf(PropTypes.object).isRequired,\n\tonClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport styles from './Button.module.css';\nconst Button = ({ onClick }) => (\n\t<button className={styles.Button} type=\"button\" onClick={onClick}>\n\t\tLoad more\n\t</button>\n);\nButton.propTypes = {\n\tonClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import Loader from 'react-loader-spinner';\nimport React, { Component } from 'react';\nexport default class App extends Component {\n\t//other logic\n\trender() {\n\t\treturn <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />;\n\t}\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n\tstatic propTypes = {\n\t\tonClose: PropTypes.func.isRequired,\n\t};\n\n\thandleKeyDown = (event) => {\n\t\tif (event.code === 'Escape') {\n\t\t\tthis.props.onClose();\n\t\t}\n\t};\n\n\thandleBackdropClick = (event) => {\n\t\tif (event.currentTarget === event.target) {\n\t\t\tthis.props.onClose();\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('keydown', this.handleKeyDown);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('keydown', this.handleKeyDown);\n\t}\n\n\trender() {\n\t\treturn createPortal(\n\t\t\t<div className={styles.Overlay} onClick={this.handleBackdropClick}>\n\t\t\t\t<div className={styles.Modal}>{this.props.children}</div>\n\t\t\t</div>,\n\t\t\tmodalRoot\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { imagesApi } from './services/api';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal';\n\nimport styles from './App.module.css';\n\nclass App extends Component {\n\tstate = {\n\t\timages: [],\n\t\tcurrentPage: 1,\n\t\tsearchQuery: '',\n\t\tisLoading: false,\n\t\terror: null,\n\t\tshowModal: false,\n\t\timageModal: '',\n\t};\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevState.searchQuery !== this.state.searchQuery) {\n\t\t\tthis.fetchImages();\n\t\t}\n\t}\n\tonChangeQuery = (query) => {\n\t\tthis.setState({\n\t\t\tsearchQuery: query,\n\t\t\tcurrentPage: 1,\n\t\t\timages: [],\n\t\t\terror: null,\n\t\t});\n\t};\n\n\tfetchImages = () => {\n\t\tconst { currentPage, searchQuery } = this.state;\n\t\tconst option = {\n\t\t\tsearchQuery,\n\t\t\tcurrentPage,\n\t\t};\n\t\tthis.setState({ isLoading: true });\n\t\timagesApi(option)\n\t\t\t.then((hits) => {\n\t\t\t\tthis.setState((prevState) => ({\n\t\t\t\t\timages: [...prevState.images, ...hits],\n\t\t\t\t\tcurrentPage: prevState.currentPage + 1,\n\t\t\t\t}));\n\t\t\t\twindow.scrollTo({\n\t\t\t\t\ttop: document.documentElement.scrollHeight,\n\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => this.setState({ error }))\n\t\t\t.finally(() => this.setState({ isLoading: false }));\n\t};\n\topenModal = (event) => {\n\t\tif (event.target.nodeName === 'IMG') {\n\t\t\tconsole.log(event.target.dataset.url);\n\t\t\tthis.setState({\n\t\t\t\timageModal: event.target.dataset.url,\n\t\t\t\tshowModal: true,\n\t\t\t});\n\t\t}\n\t};\n\n\tcloseModal = (event) => {\n\t\tthis.setState({\n\t\t\timageModal: '',\n\t\t\tshowModal: false,\n\t\t});\n\t};\n\trender() {\n\t\tconst { images, isLoading, error, imageModal, showModal } = this.state;\n\t\tconst showLoadMoreBtn = images.length > 0 && !isLoading;\n\n\t\treturn (\n\t\t\t<div className={styles.App}>\n\t\t\t\t<Searchbar onSubmit={this.onChangeQuery} />\n\t\t\t\t{error && <p>Что-то пошло не так.</p>}\n\t\t\t\t<ImageGallery list={images} onClick={this.openModal} />\n\t\t\t\t{showModal && (\n\t\t\t\t\t<Modal onClose={this.closeModal}>\n\t\t\t\t\t\t<img src={imageModal} alt=\"\" />\n\t\t\t\t\t</Modal>\n\t\t\t\t)}\n\t\t\t\t{isLoading && <Loader />}\n\t\t\t\t{showLoadMoreBtn && <Button onClick={this.fetchImages} />}\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm__button\":\"Searchbar_SearchForm__button__wM7NY\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__iY4OK\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1-9Kh\"};"],"sourceRoot":""}